{"ast":null,"code":"var _jsxFileName = \"/Users/ben/software/vega-web-master/src/components/pages/AdminPanel.js\",\n    _s = $RefreshSig$();\n\nimport SimplePageLayout from '../templates/SimplePageLayout.js';\nimport { fetchuser, enableAccount, changeAccountRole } from '../../service/AdminPanel/AdminPanel.js';\nimport { UserContext } from '../../auth/UserProvider.js';\nimport { useState, useContext, useEffect } from 'react';\nimport { Form, Button, Row, Col, Table } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminPanel = props => {\n  _s();\n\n  const {\n    user\n  } = useContext(UserContext);\n  const [listOfUsers, setUsers] = useState([]);\n  useEffect(() => {\n    console.log(\"Inside useEffect\");\n    fetchuser(user.jwt).then(resp => {\n      setUsers(resp);\n    });\n  }, [user]);\n\n  const enableUser = username => {\n    console.log(\"Enable User called with\", username);\n    enableAccount(username, user.jwt).then(resp => console.log(\"User enabled\"));\n  };\n\n  const changeRole = (evt, username) => {\n    console.log(evt.target.value, username);\n    var role = evt.target.value;\n    changeAccountRole(username, role, user.jwt).then(resp => console.log(\"Changed Roles\"));\n  };\n\n  const listOfUsersHTML = () => {\n    if (listOfUsers.length) {\n      return listOfUsers.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.firstName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 41\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.lastName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 66\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: user.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 90\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          onClick: () => enableUser(user.username),\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            children: \"Enable User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 5\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 114\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: /*#__PURE__*/_jsxDEV(Form.Select, {\n            \"aria-label\": \"Floating label select example\",\n            onChange: evt => changeRole(evt, user.username),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Open this select menu\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 43,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ROLE_STAFF\",\n              children: \"STAFF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"ROLE_USER\",\n              children: \"USER\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 6\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 37\n      }, this));\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(SimplePageLayout, {\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"First Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Last Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: listOfUsersHTML()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 3\n  }, this);\n};\n\n_s(AdminPanel, \"bxkf+Dy8HpxuT2A8YAlToR51+sw=\");\n\n_c = AdminPanel;\nexport default AdminPanel;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminPanel\");","map":{"version":3,"sources":["/Users/ben/software/vega-web-master/src/components/pages/AdminPanel.js"],"names":["SimplePageLayout","fetchuser","enableAccount","changeAccountRole","UserContext","useState","useContext","useEffect","Form","Button","Row","Col","Table","AdminPanel","props","user","listOfUsers","setUsers","console","log","jwt","then","resp","enableUser","username","changeRole","evt","target","value","role","listOfUsersHTML","length","map","firstName","lastName"],"mappings":"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","sourcesContent":["import SimplePageLayout from '../templates/SimplePageLayout.js';\nimport {fetchuser, enableAccount, changeAccountRole} from  '../../service/AdminPanel/AdminPanel.js';\nimport {UserContext} from '../../auth/UserProvider.js';\nimport {useState, useContext, useEffect} from 'react';\n\nimport {Form, Button, Row, Col, Table} from 'react-bootstrap';\n\nconst AdminPanel = (props) => {\n\tconst {user} = useContext(UserContext);\n\tconst [listOfUsers, setUsers] = useState([]);\n\tuseEffect(() => {\n\t\t\tconsole.log(\"Inside useEffect\")\n\t\t\tfetchuser(user.jwt)\n\t\t\t\t.then(resp => {\n\t\t\t\t\tsetUsers(resp)\n\t\t\t\t\t});\n\t\t\n\n\t}, [user]);\n\n\tconst enableUser = (username) => {\n\t\tconsole.log(\"Enable User called with\",username)\n\t\tenableAccount(username, user.jwt)\n\t\t.then(resp => \n\t\t\tconsole.log(\"User enabled\"))\n\t}\n\n\n\tconst changeRole = (evt, username) => {\n\t\tconsole.log(evt.target.value, username)\n\t\tvar role = evt.target.value\n\t\tchangeAccountRole(username, role, user.jwt)\n\t\t.then(resp => \n\t\t\tconsole.log(\"Changed Roles\"))\n\t}\n\n\tconst listOfUsersHTML = () => {\n\t\tif(listOfUsers.length){\n\t\t\treturn listOfUsers.map((user) => <tr><td>{user.firstName}</td><td>{user.lastName}</td><td>{user.username}</td><td onClick={() => enableUser(user.username)}>\n\t\t\t\t<a href=\"#\">Enable User</a></td>\n\t\t\t\t<td>\n\t\t\t\t\t<Form.Select aria-label=\"Floating label select example\" onChange={(evt) => changeRole(evt, user.username)}>\n\t\t\t\t\t    <option>Open this select menu</option>\n\t\t\t\t\t    <option value=\"ROLE_STAFF\">STAFF</option>\n\t\t\t\t\t    <option value=\"ROLE_USER\">USER</option>\n  \t\t\t\t\t</Form.Select>\n\t\t\t\t</td></tr>) \n\t\t}\n\t}\n\n\treturn(\n\t\t<SimplePageLayout>\n\t\t\t<Table>\n\t\t\t\t<thead>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td>First Name</td>\n\t\t\t\t\t\t<td>Last Name</td>\n\t\t\t\t\t\t<td>Username</td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t<td></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</thead>\n\t\t\t\t<tbody>\n\t\t\t\t\t{listOfUsersHTML()}\n\t\t\t\t</tbody>\n\t\t\t</Table>\n\t\t</SimplePageLayout>\n\t\t)\n}\nexport default AdminPanel;"]},"metadata":{},"sourceType":"module"}